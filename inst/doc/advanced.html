<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Patrick McCormick patrick.mccormick@alum.mit.edu" />

<meta name="date" content="2020-02-28" />

<title>medicalrisk: Advanced comorbidity analysis</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">medicalrisk: Advanced comorbidity analysis</h1>
<h4 class="author">Patrick McCormick <a href="mailto:patrick.mccormick@alum.mit.edu" class="email">patrick.mccormick@alum.mit.edu</a></h4>
<h4 class="date">2020-02-28</h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>To demonstrate how the <strong>medicalrisk</strong> package can be useful, this vignette shows the kinds of descriptive statistics and inferences that can be made from a simple administrative dataset.</p>
<p>This vignette assumes you have read the introductory vignette for <strong>medicalrisk</strong>.</p>
</div>
<div id="calculating-mortality-risk" class="section level2">
<h2>Calculating Mortality Risk</h2>
<p>First, use the <strong>medicalrisk</strong> package to create a single dataframe with information on each patient:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(medicalrisk)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(plyr)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">data</span>(vt_inp_sample)</span>
<span id="cb1-4"><a href="#cb1-4"></a>cm_df &lt;-<span class="st"> </span><span class="kw">generate_comorbidity_df</span>(vt_inp_sample, <span class="dt">icd9mapfn=</span>icd9cm_charlson_quan)</span>
<span id="cb1-5"><a href="#cb1-5"></a>cci_df &lt;-<span class="st"> </span><span class="kw">generate_charlson_index_df</span>(cm_df)</span>
<span id="cb1-6"><a href="#cb1-6"></a>rsi_df &lt;-<span class="st"> </span><span class="kw">ddply</span>(vt_inp_sample, .(id), <span class="cf">function</span>(x) { <span class="kw">icd9cm_sessler_rsi</span>(x<span class="op">$</span>icd9cm) } )</span>
<span id="cb1-7"><a href="#cb1-7"></a>num_icd9_df &lt;-<span class="st"> </span><span class="kw">count</span>(vt_inp_sample, <span class="kw">c</span>(<span class="st">&#39;id&#39;</span>))</span>
<span id="cb1-8"><a href="#cb1-8"></a>num_icd9_df &lt;-<span class="st"> </span><span class="kw">rename</span>(num_icd9_df, <span class="kw">c</span>(<span class="st">&quot;freq&quot;</span> =<span class="st"> &quot;num_icd9&quot;</span>))</span>
<span id="cb1-9"><a href="#cb1-9"></a>wide_df &lt;-<span class="st"> </span><span class="kw">merge</span>(<span class="kw">merge</span>(<span class="kw">merge</span>(<span class="kw">merge</span>(</span>
<span id="cb1-10"><a href="#cb1-10"></a>  rsi_df, cci_df), </span>
<span id="cb1-11"><a href="#cb1-11"></a>    cm_df), </span>
<span id="cb1-12"><a href="#cb1-12"></a>      <span class="kw">unique</span>(vt_inp_sample[,<span class="kw">c</span>(<span class="st">&#39;id&#39;</span>,<span class="st">&#39;scu_days&#39;</span>,<span class="st">&#39;drg&#39;</span>,<span class="st">&#39;mdc&#39;</span>)])),</span>
<span id="cb1-13"><a href="#cb1-13"></a>        num_icd9_df)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="right">rsi_1yrpod</th>
<th align="right">rsi_30dlos</th>
<th align="right">rsi_30dpod</th>
<th align="right">rsi_inhosp</th>
<th align="right">index</th>
<th align="left">mi</th>
<th align="left">chf</th>
<th align="left">perivasc</th>
<th align="left">cvd</th>
<th align="left">dementia</th>
<th align="left">chrnlung</th>
<th align="left">rheum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">-2.019</td>
<td align="right">0.156</td>
<td align="right">-1.699</td>
<td align="right">-1.848</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">-4.142</td>
<td align="right">0.893</td>
<td align="right">-3.802</td>
<td align="right">-3.543</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">-2.627</td>
<td align="right">0.831</td>
<td align="right">-2.911</td>
<td align="right">-2.861</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">-0.798</td>
<td align="right">0.336</td>
<td align="right">-1.551</td>
<td align="right">-0.267</td>
<td align="right">4</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">2.580</td>
<td align="right">-1.790</td>
<td align="right">2.455</td>
<td align="right">1.762</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">ulcer</th>
<th align="left">liver</th>
<th align="left">dm</th>
<th align="left">dmcx</th>
<th align="left">para</th>
<th align="left">renal</th>
<th align="center">tumor</th>
<th align="left">modliver</th>
<th align="left">mets</th>
<th align="left">aids</th>
<th align="right">scu_days</th>
<th align="right">drg</th>
<th align="right">mdc</th>
<th align="right">num_icd9</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="center">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="right">0</td>
<td align="right">470</td>
<td align="right">8</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="center">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="right">0</td>
<td align="right">470</td>
<td align="right">8</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="center">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="right">0</td>
<td align="right">462</td>
<td align="right">8</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="center">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="right">0</td>
<td align="right">470</td>
<td align="right">8</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="center">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="right">0</td>
<td align="right">689</td>
<td align="right">11</td>
<td align="right">24</td>
</tr>
</tbody>
</table>
<p>Let’s explore the data here with some graphs. First, a histogram:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">library</span>(reshape2)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co"># generate a 100 pt x 17 comorbidity table (1700 rows)</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>cm_melted &lt;-<span class="st"> </span><span class="kw">melt</span>(cm_df, <span class="dt">id.vars=</span><span class="kw">c</span>(<span class="st">&#39;id&#39;</span>), <span class="dt">variable.name=</span><span class="st">&#39;cm&#39;</span>)</span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co"># get rid of all the false entries</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>cm_melted &lt;-<span class="st"> </span>cm_melted[cm_melted<span class="op">$</span>value,]</span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">## count only flags that are true</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="kw">ggplot</span>(cm_melted, <span class="kw">aes</span>(cm, <span class="dt">fill=</span>cm)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="st">  </span><span class="kw">scale_fill_discrete</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The <strong>chrnlung</strong> comorbidity seems well represented. Let’s create a histogram breaking down which ICD-9-CM codes are mapping to <strong>chrnlung</strong> in this dataset:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># make a histogram dataframe for all the icd-9 codes</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>icd9cm_df &lt;-<span class="st"> </span><span class="kw">count</span>(vt_inp_sample, <span class="dt">vars=</span><span class="st">&#39;icd9cm&#39;</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co"># create a charlson comorbidity map for all icd-9 codes</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>icd9cm_charlson_df &lt;-<span class="st"> </span><span class="kw">icd9cm_charlson_quan</span>(icd9cm_df<span class="op">$</span>icd9cm)</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co"># isolate just the chrnlung icd_9_cm codes</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>icd9cm_chrnlung &lt;-<span class="st"> </span><span class="kw">row.names</span>(icd9cm_charlson_df[icd9cm_charlson_df<span class="op">$</span>chrnlung,])</span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co"># create a hist df</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>icd9cm_chrnlung_hist &lt;-<span class="st"> </span>icd9cm_df[icd9cm_df<span class="op">$</span>icd9cm <span class="op">%in%</span><span class="st"> </span>icd9cm_chrnlung,]</span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co"># plot it</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="kw">ggplot</span>(icd9cm_chrnlung_hist, <span class="kw">aes</span>(icd9cm, freq)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Let’s see how often ICD-9-CM codes used for <em>chrnlung</em> coincide within patients:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># create base dataset</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>pairs &lt;-<span class="st"> </span><span class="kw">unique</span>(</span>
<span id="cb4-3"><a href="#cb4-3"></a>  vt_inp_sample[vt_inp_sample<span class="op">$</span>icd9cm <span class="op">%in%</span><span class="st"> </span>icd9cm_chrnlung, <span class="kw">c</span>(<span class="st">&#39;id&#39;</span>,<span class="st">&#39;icd9cm&#39;</span>)])</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co"># create coincidence matrix</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>t &lt;-<span class="st"> </span><span class="kw">table</span>(</span>
<span id="cb4-7"><a href="#cb4-7"></a>    <span class="kw">ddply</span>(pairs, <span class="kw">c</span>(<span class="st">&#39;id&#39;</span>), <span class="cf">function</span>(x) { <span class="cf">if</span> (<span class="kw">length</span>(x<span class="op">$</span>icd9cm) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>) {</span>
<span id="cb4-8"><a href="#cb4-8"></a>      <span class="kw">data.frame</span>(<span class="kw">t</span>(<span class="kw">combn</span>(<span class="kw">as.character</span>(x<span class="op">$</span>icd9cm),<span class="dv">2</span>))) } })[<span class="kw">c</span>(<span class="st">&#39;X1&#39;</span>,<span class="st">&#39;X2&#39;</span>)])</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">D4168</th>
<th align="right">D49390</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>D49122</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td>D4168</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>How often do comorbidities coincide?</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># create coincidence matrix</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>t &lt;-<span class="st"> </span><span class="kw">table</span>(</span>
<span id="cb5-3"><a href="#cb5-3"></a>    <span class="kw">ddply</span>(cm_melted, <span class="kw">c</span>(<span class="st">&#39;id&#39;</span>), <span class="cf">function</span>(x) { <span class="cf">if</span> (<span class="kw">length</span>(x<span class="op">$</span>cm) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>) {</span>
<span id="cb5-4"><a href="#cb5-4"></a>      <span class="kw">data.frame</span>(<span class="kw">t</span>(<span class="kw">combn</span>(<span class="kw">as.character</span>(x<span class="op">$</span>cm),<span class="dv">2</span>))) } })[<span class="kw">c</span>(<span class="st">&#39;X1&#39;</span>,<span class="st">&#39;X2&#39;</span>)])</span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co"># sort it</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>t &lt;-<span class="st"> </span>t[<span class="kw">order</span>(<span class="kw">rownames</span>(t)),<span class="kw">order</span>(<span class="kw">colnames</span>(t))]</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">chf</th>
<th align="right">chrnlung</th>
<th align="right">cvd</th>
<th align="right">dementia</th>
<th align="right">dm</th>
<th align="right">liver</th>
<th align="right">mets</th>
<th align="right">para</th>
<th align="right">perivasc</th>
<th align="right">renal</th>
<th align="right">rheum</th>
<th align="right">tumor</th>
<th align="right">ulcer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>chf</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td>chrnlung</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td>cvd</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td>dementia</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td>dm</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td>liver</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td>mi</td>
<td align="right">4</td>
<td align="right">6</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td>perivasc</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td>rheum</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td>ulcer</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>Plot the above table:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>m &lt;-<span class="st"> </span><span class="kw">melt</span>(t)</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw">ggplot</span>(m[m<span class="op">$</span>value<span class="op">&gt;</span><span class="dv">0</span>,], <span class="kw">aes</span>(X1,X2)) <span class="op">+</span><span class="st"> </span><span class="kw">stat_sum</span>(<span class="kw">aes</span>(<span class="dt">group=</span>value))</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>This is a scatterplot of the Charlson Comorbidity Index versus each RSI mortality estimate. A linear regression line is superimposed:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">library</span>(grid)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw">library</span>(gridExtra)</span></code></pre></div>
<pre><code>## Warning: package &#39;gridExtra&#39; was built under R version 3.6.2</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>p.inhosp &lt;-<span class="st"> </span><span class="kw">ggplot</span>(wide_df, <span class="kw">aes</span>(rsi_inhosp, index)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm) <span class="op">+</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>,<span class="dv">10</span>))</span>
<span id="cb9-3"><a href="#cb9-3"></a>p<span class="fl">.30</span>dpod &lt;-<span class="st"> </span><span class="kw">ggplot</span>(wide_df, <span class="kw">aes</span>(rsi_30dpod, index)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm) <span class="op">+</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>,<span class="dv">10</span>))</span>
<span id="cb9-5"><a href="#cb9-5"></a>p<span class="fl">.1</span>yrpod &lt;-<span class="st"> </span><span class="kw">ggplot</span>(wide_df, <span class="kw">aes</span>(rsi_1yrpod, index)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm) <span class="op">+</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>,<span class="dv">10</span>))</span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="kw">grid.arrange</span>(p.inhosp, p<span class="fl">.30</span>dpod, p<span class="fl">.1</span>yrpod, <span class="dt">nrow=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>As expected, the Risk Stratification Index is correlated with an increased Charlson Comorbidity Index.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
